# plans.jp の説明書（初心者向けガイド）

こんにちは！このドキュメントは、リポジトリ内の `plans.jp.bak` に書かれている「実行計画（ExecPlans）」に関するガイドラインを、初心者向けにわかりやすく整理したものです。実行計画は、機能追加やシステム変更を行うときの「作業手順書（レシピ）」のようなものです。

このファイルを読めば、以下のことが理解できます:

- ExecPlans とは何か
- 必須の要件（守るべきルール）
- 作成・実装のガイドライン
- 必須のセクション（Progress、Decision Log、Validation など）
- 実践的なテンプレートと例

---

## 1. ExecPlans（実行計画）とは？

ExecPlans は、プロジェクト内でコードの変更や機能の追加を行う際の「実行可能な設計書」です。旅行の計画書や料理のレシピのように、目的・手順・必要な資料・確認方法が明記されており、初心者でも順に従えば作業を完了できるよう設計されています。

- 目的: 変更後にユーザーが何をできるようになるかを明確にする
- 検証方法: 変更が正しく働くかを人が確認できる具体的な手順を示す

ExecPlans は PLANS.md のルールに従って作成します。PLANS.md が手元にない場合は必ず読み返しましょう。

## 2. 必須の要件（NON-NEGOTIABLE）

以下は必ず守るべきルールです。これらが守られていないと、計画は実用的ではありません。

- **自己完結:** その ExecPlan 単独で、初心者が理解・実行できるように記載すること。
- **生きたドキュメント:** 作業の進捗や発見、決定をセクションへ反映して常に最新の状態に保つこと。
- **エンドツーエンドでの実行可能性:** 変更によりユーザーが実際に操作できる振る舞いを生み出すこと（単なる定義追加で終わらない）。
- **専門用語の定義:** 難しい言葉を使うときは、同じ箇所で平易な説明を必ず行う。

## 3. 作成・実装のガイドライン

ここでは、チームや後から入る人が迷わないように、実行計画の書き方や注意点を説明します。

- **簡潔かつ明確に:** 専門用語を避け、シンプルな言葉で書く。使う場合はすぐ定義する。
- **観察できる結果を基準にする:** 例: 「サーバー起動後に http://localhost:8080/health にアクセスするとHTTP 200 と OK が返る」
- **ファイルとコマンドを明示:** 作業で編集するファイルのパスを相対パスで明記する。実行コマンドや作業ディレクトリも示す。
- **冪等性を保つ:** 手順は何度実行しても壊れないようにし、失敗時の戻し方を書いておく。
- **証拠を残す:** 結果の出力例や、テスト結果の抜粋を記載して、作業が成功したことを示す。

## 4. 重要なセクション（必ず含めるもの）

ExecPlan の中で、特に重要なセクションは以下です。必ず含め、更新を続けてください。

- **Purpose / 概要:** 何を達成するか、どのように確認するかを短文で示す
- **Progress:** チェックリスト形式で進捗を管理する（タイムスタンプ推奨）
- **Surprises & Discoveries:** 作業中の意外な発見や実験結果を記録する
- **Decision Log:** 主要な設計/実装判断とその理由を残す（例: Decision / Rationale / Date）
- **Outcomes & Retrospective:** 完了後に達成事項と反省点をまとめる
- **Concrete Steps（具体手順）:** 編集するファイル、実行コマンド、期待される出力を明示する
- **Validation and Acceptance:** テストや手動確認の方法と受け入れ条件を具体的に示す
- **Idempotence and Recovery:** 失敗時の回復方法と、手順の安全性について記載する

---

## 5. マイルストーンとプロトタイプ

大きな変更には、評価を速く行うためのプロトタイプ（スパイク）を含めることを推奨します。プロトタイプは最小限の実装で検証を行い、可能であればテストを含めます。

- **マイルストーン作成:** 各マイルストーンは独立して検証可能にすること
- **プロトタイピング:** 取りうるアプローチを小さな実装で試験する（観察方法と採用基準を明示）

## 6. よくある失敗を避けるコツ

- **曖昧な要件の放置を避ける:** 曖昧ならば、実装者が取る方針を明記しておく
- **専門用語の未定義:** 初心者に優しく、専門用語は必ず定義する
- **確認手順の不足:** テストや動作確認の手順を必ず書き、エビデンスを添える

---

## 7. ExecPlan スケルトン（テンプレート）

以下は、実際に ExecPlan を書くときに使えるテンプレートです。

```
# <短い説明>（例: ユーザーがプロフィール画像をアップロード可能にする）

## 目的 / 概要
（数行で何ができるようになるかを明示）

## Progress
 - [ ] 例: 設計
 - [ ] 例: 実装
 - [ ] 例: テスト

## Surprises & Discoveries
 - Observation: …
	 Evidence: …

## Decision Log
 - Decision: …
	 Rationale: …
	 Date/Author: …

## Concrete Steps
（編集するファイル、コマンド、出力例を明確に）

## Validation and Acceptance
（具体的なテスト手順と期待する出力）

## Idempotence and Recovery
（失敗時の回復方法）

## Outcomes & Retrospective
（達成したこと、残件、感想）
```

---

## 8. 使い方のヒント（Tips）

- ドキュメントは短く、わかりやすく。例を多く使うと初心者に優しい。
- 重要な決定は `Decision Log` に残す。後でなぜそうしたかがわかること。
- 小さな変更を頻繁にコミットして、変更履歴で追いやすくする。

---

この `plans.jp.explanation.md` は、`plans.jp.bak` の内容をより親しみやすく整理したものです。`docs/` ディレクトリがあればそちらに置くのを推奨します（`docs/plans.jp.explanation.md`）。`docs/` がない場合は現在の `.github/bak/` に置いてください。

もし追記や別の例（GUI の変化、API の変化）を追加したい場合は、項目を増やして `Progress`、`Decision Log` を更新してください。

💡 Tips: 実装中に「〜が不明です」と思ったら、ExecPlan にその質問を書き加え、仮の決定と理由を残しておくとあとで振り返りやすいです。
