# タスクリスト (MVP フェーズ) - 仕様駆動開発版

進捗記号: [ ] 未着手 / [~] 進行中 / [x] 完了 / [!] ブロック
優先度: 🔴 高 / 🟡 中 / 🟢 低

## サマリー
- 総タスク数: 52 (設計書27個分析ベース)
- 開発方針: **仕様駆動開発** (設計書→実装→テスト)
- フェーズ: Phase 4 (詳細設計完了機能の実装着手)
- 次アクション: 詳細設計済み機能(ルートアカウント/マッチング/国際化)の実装開始

---
## 1. 🏗️ 基盤・インフラ (優先度: 🔴 高) - 設計書対応状況
- [x] TASK-001: システム全体設計書準拠の技術スタック整備
  - 設計書: `0001-システム全体設計書-MVP.md`
  - 説明: Next.js 15.5.2 + React 19.1.1 + Tailwind CSS v4 基盤確認
  - 成果物: 技術スタック整合性確認レポート
  - テスト要件: なし(確認中心)
- [x] TASK-002: Biome + TypeScript strict mode 設定
  - 設計書: `0001-システム全体設計書-MVP.md` (開発規約章)
  - 説明: 型チェック厳格化、コード品質統一
  - 成果物: biome.jsonc, tsconfig.json 最適化
  - テスト要件: なし(設定中心)
- [x] TASK-003: Supabase + Drizzle ORM 基盤整備
  - 設計書: `0001-システム全体設計書-MVP.md`, `0002-データベース設計書-MVP.md`
  - 説明: データベース接続、スキーマ定義、マイグレーション基盤
  - 成果物: drizzle.config.ts, 初期schema, migration手順
  - テスト要件: DB接続テスト

## 2. 🔐 認証・認可システム (優先度: 🔴 高) - RBAC設計準拠
- [x] TASK-010: OAuth認証システム基盤確認
  - 設計書: `0001-システム全体設計書-MVP.md`, `0005-セキュリティ設計書-MVP.md`
  - 説明: Google/GitHub/Anonymous OAuth実装済み確認
  - 成果物: 認証フロー動作確認レポート
  - テスト要件: 各OAuth provider接続テスト
- [ ] TASK-011: RBAC (Role-Based Access Control) 実装
  - 設計書: `0020-役割設計書.md`, `0022-RBAC マトリクス図設計書.md`
  - 説明: 管理人/グループリーダー/メンバー権限制御実装
  - 成果物: 権限制御middleware, RLSポリシー
  - テスト要件: 権限別アクセステスト

## 3. 🏠 ルートアカウント (優先度: 🔴 高) - 詳細設計完了済み
- [ ] TASK-020: ルートアカウントテーブル実装
  - 設計書: `0100-ルートアカウント設計書.md`
  - 説明: auth_users連携、役割管理、プロフィール関連付け
  - 成果物: root_accounts テーブル完全実装、Drizzle schema
  - テスト要件: CRUD操作テスト、外部キー制約テスト
- [ ] TASK-021: ルートアカウント管理ダッシュボード
  - 設計書: `0100-ルートアカウント設計書.md`
  - 説明: アカウント情報表示、ユーザープロフィール一覧管理
  - 成果物: ダッシュボードUI、Server Actions
  - テスト要件: UIテスト、データ取得テスト

## 4. 👤 ユーザープロフィール (優先度: � 中) - 設計書要詳細化
- [ ] TASK-030: ユーザープロフィール設計書詳細化
  - 設計書: `0110-ユーザープロフィール設計書.md` (現在空ファイル)
  - 説明: プロフィール項目、バリデーション、UI仕様の詳細化
  - 成果物: 完全なプロフィール設計書
  - テスト要件: なし(設計中心)
- [ ] TASK-031: プロフィールテーブル設計・実装
  - 設計書: `0110-ユーザープロフィール設計書.md` (詳細化後)
  - 説明: user_profiles テーブル定義、ルートアカウント連携
  - 成果物: Drizzle schema、migration、RLS
  - テスト要件: テーブル作成テスト、制約テスト
- [ ] TASK-032: プロフィール CRUD Server Actions
  - 設計書: `0110-ユーザープロフィール設計書.md`
  - 説明: プロフィール作成/読み取り/更新/削除機能
  - 成果物: Server Actions、Zod schema
  - テスト要件: CRUD操作テスト、バリデーションテスト
- [ ] TASK-033: プロフィール管理UI実装
  - 設計書: `0110-ユーザープロフィール設計書.md`, `0004-画面UI設計書-MVP.md`
  - 説明: プロフィール作成/編集フォーム、一覧表示
  - 成果物: React Components、shadcn/ui統合
  - テスト要件: RTL コンポーネントテスト

## 5. 📦 作品登録システム (優先度: 🟡 中) - 基本設計済み
- [ ] TASK-040: 作品登録設計書詳細化
  - 設計書: `0200-作品登録設計書.md` (カテゴリ・発売形態のみ記載)
  - 説明: 作品メタデータ、評価システム、カテゴリ管理の詳細化
  - 成果物: 完全な作品登録設計書
  - テスト要件: なし(設計中心)
- [ ] TASK-041: 作品テーブル設計・実装
  - 設計書: `0200-作品登録設計書.md` (詳細化後)
  - 説明: works テーブル、カテゴリ、評価関連テーブル
  - 成果物: Drizzle schema、migration
  - テスト要件: テーブル作成・関連付けテスト
- [ ] TASK-042: 作品登録フォーム実装
  - 設計書: `0200-作品登録設計書.md`
  - 説明: アニメ/マンガ登録、メタデータ入力、画像アップロード
  - 成果物: 作品登録UI、Server Actions
  - テスト要件: フォーム送信テスト、バリデーションテスト
- [ ] TASK-043: 作品一覧・詳細表示
  - 設計書: `0200-作品登録設計書.md`
  - 説明: 作品検索、フィルタリング、詳細ページ
  - 成果物: 一覧・詳細UI
  - テスト要件: データ表示テスト、検索機能テスト

## 6. 🤝 マッチングシステム (優先度: � 高) - 詳細設計完了済み
- [ ] TASK-050: マッチングアルゴリズム実装
  - 設計書: `0006-マッチングアルゴリズム設計書-MVP.md` (844行の詳細仕様)
  - 説明: 価値観・作品評価ベースのスコア計算アルゴリズム実装
  - 成果物: MatchingService、スコア計算関数、TypeScript型定義
  - テスト要件: アルゴリズム精度テスト、パフォーマンステスト
- [ ] TASK-051: マッチング目的別システム
  - 設計書: `0300-マッチング設計書.md`, `0310-自動マッチング設計書.md`
  - 説明: 友人/仕事仲間/恋人/趣味仲間等の目的別マッチング
  - 成果物: 目的別マッチングロジック、Server Actions
  - テスト要件: 目的別マッチング精度テスト
- [ ] TASK-052: マッチング結果UI実装
  - 設計書: `0006-マッチングアルゴリズム設計書-MVP.md`
  - 説明: スコア表示、共通作品/価値観表示、ランク表示
  - 成果物: マッチング結果画面、スコア可視化コンポーネント
  - テスト要件: UI表示テスト、レスポンシブテスト

## 7. � 国際化システム (優先度: � 高) - 実装済み確認・拡張
- [x] TASK-060: 基本国際化システム確認
  - 設計書: `0007-国際化多言語対応設計書-MVP.md` (実装済み機能確認)
  - 説明: next-intl v4.3.9、3言語対応(ja/en/de)確認
  - 成果物: 国際化機能動作確認レポート
  - テスト要件: 言語切り替えテスト
- [ ] TASK-061: 動的コンテンツ国際化拡張
  - 設計書: `0007-国際化多言語対応設計書-MVP.md` (未実装機能)
  - 説明: 作品名、カテゴリ名、エラーメッセージの多言語化
  - 成果物: 動的翻訳システム、翻訳管理UI
  - テスト要件: 動的翻訳テスト、フォールバックテスト

## 8. 🏷️ タグ・リストシステム (優先度: 🟢 低) - 設計書要作成
- [ ] TASK-070: タグ・リスト設計書作成
  - 設計書: `0500-公式タグ設計書.md`, `0400-リスト設計書.md` (現在空)
  - 説明: 公式タグ/ユーザータグ/リスト機能の設計詳細化
  - 成果物: 完全なタグ・リスト設計書
  - テスト要件: なし(設計中心)
- [ ] TASK-071: タグシステム実装
  - 設計書: `0500-公式タグ設計書.md` (詳細化後)
  - 説明: タグ管理、タグ付け、検索機能
  - 成果物: タグテーブル、CRUD操作、UI
  - テスト要件: タグ操作テスト

## 9. 👥 グループ・チームワーク (優先度: 🟢 低) - 将来機能
- [ ] TASK-080: グループ・チーム設計書作成
  - 設計書: 新規作成要
  - 説明: グループ作成、招待、管理機能の設計
  - 成果物: グループ設計書
  - テスト要件: なし(設計中心)

## 10. 🧪 テスト・品質保証 (横断) - システム設計書準拠
- [ ] TASK-090: テスト基盤セットアップ
  - 設計書: `0001-システム全体設計書-MVP.md` (テスト戦略章)
  - 説明: Vitest + RTL + Playwright 基盤構築
  - 成果物: テスト設定、基本テンプレート
  - テスト要件: テスト環境動作確認
- [ ] TASK-091: 仕様駆動テスト実装
  - 設計書: 各機能設計書のテスト要件
  - 説明: 設計書に基づく受入テスト作成
  - 成果物: 機能別テストスイート
  - テスト要件: カバレッジ80%以上
- [ ] TASK-092: Storybook コンポーネントライブラリ
  - 設計書: `0004-画面UI設計書-MVP.md`
  - 説明: shadcn/ui コンポーネントのStorybook化
  - 成果物: コンポーネントカタログ
  - テスト要件: ビジュアルテスト

## 11. 📚 ドキュメント・ナレッジ (横断)
- [ ] TASK-100: 設計書実装ステータス管理
  - 説明: 27個の設計書と実装状況の同期管理
  - 成果物: 設計-実装マトリクス、進捗ダッシュボード
  - テスト要件: なし(管理中心)
- [ ] TASK-101: API仕様書自動生成
  - 設計書: `0003-API設計書-MVP.md`
  - 説明: OpenAPI/Swagger仕様書生成
  - 成果物: API仕様書、Postmanコレクション
  - テスト要件: API動作テスト

## 12. 🚀 デプロイ・運用 (優先度: 🟡 中)
- [ ] TASK-110: 本番環境デプロイ準備
  - 設計書: `0001-システム全体設計書-MVP.md` (インフラ章)
  - 説明: Vercel + Supabase 本番環境構築
  - 成果物: デプロイ手順書、環境変数設定
  - テスト要件: 本番環境動作テスト
- [ ] TASK-111: セキュリティ・監視設定
  - 設計書: `0005-セキュリティ設計書-MVP.md`
  - 説明: RLS、監視、バックアップ設定
  - 成果物: セキュリティ設定、監視ダッシュボード
  - テスト要件: セキュリティテスト

## 13. 🔮 将来機能 (優先度: 🟢 低) - 空設計書対応
- [ ] TASK-120: 将来機能設計書群詳細化
  - 設計書: `0600-チェーン設計書.md`, `0700-マンダラチャート設計書.md` 等
  - 説明: 空ファイルの設計書を詳細化
  - 成果物: 将来機能の完全設計書
  - テスト要件: なし(設計中心)

---

## 📊 設計書対応状況サマリー

### ✅ 詳細仕様完了 (即実装可能)
- `0001-システム全体設計書-MVP.md` → TASK-001〜003
- `0100-ルートアカウント設計書.md` → TASK-020〜021
- `0006-マッチングアルゴリズム設計書-MVP.md` → TASK-050〜052
- `0007-国際化多言語対応設計書-MVP.md` → TASK-060〜061
- `0020-役割設計書.md` → TASK-011

### ⚠️ 部分仕様 (設計補完必要)
- `0200-作品登録設計書.md` → TASK-040詳細化後に041〜043
- `0300-マッチング設計書.md` → TASK-051で詳細化

### ❌ 空ファイル (将来機能)
- `0110-ユーザープロフィール設計書.md` → TASK-030で詳細化
- `0400-リスト設計書.md` → TASK-070で詳細化
- `0500-公式タグ設計書.md` → TASK-070で詳細化
- `0600-チェーン設計書.md` → TASK-120で詳細化
- `0700-マンダラチャート設計書.md` → TASK-120で詳細化

## 🎯 推奨実装順序 (仕様駆動開発)

### Phase 1: 基盤実装 (設計完了済み)
1. **TASK-020〜021**: ルートアカウント (詳細仕様あり)
2. **TASK-011**: RBAC権限制御 (役割設計完了)
3. **TASK-050〜052**: マッチングシステム (844行仕様書あり)

### Phase 2: コンテンツシステム
4. **TASK-030**: ユーザープロフィール設計詳細化
5. **TASK-040**: 作品登録設計詳細化
6. **TASK-031〜033**: プロフィール実装
7. **TASK-041〜043**: 作品登録実装

### Phase 3: 将来機能・品質保証
8. **TASK-070**: タグ・リスト設計作成・実装
9. **TASK-090〜092**: テスト基盤・品質保証
10. **TASK-110〜111**: 本番環境・運用設定

---
**仕様駆動開発プロセス**: 設計書確認 → 実装 → テスト → 設計書更新 → 次機能のサイクル
