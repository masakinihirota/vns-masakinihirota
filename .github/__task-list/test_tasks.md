# 基本設計書 タスクリスト

## 🎯 プロジェクト概要
VNS（Value Network System）の開発タスクを優先度と依存関係に基づいて整理したリストです。

## 📋 優先度定義
- 🔴 **高**: プロジェクト成功の必須要件
- 🟡 **中**: 重要だが後回し可能
- 🟢 **低**: 将来的な機能拡張

---

## 1. 🏗️ 基盤・インフラ設定 (優先度: 🔴 高)

### 1.1 開発環境構築
- [ ] プロジェクト初期セットアップ
- [ ] Next.js + TypeScript環境構築
- [ ] Supabase初期セットアップ
- [ ] 環境変数管理設定
- [ ] GitHub Actions CI/CD設定

### 1.2 データベース設計
- [ ] テーブル設計・作成
- [ ] RLS ポリシー設定
- [ ] 初期データ投入
- [ ] データ移行・バックアップ機能

### 1.3 セキュリティ基盤
- [ ] Zod入力バリデーション基盤
- [ ] セキュリティ設定
- [ ] 監査ログシステム

---

## 2. 👤 認証・アカウント管理 (優先度: 🔴 高)

### 2.1 認証システム
- [ ] OAuth認証システム実装（Google, GitHub）
- [ ] 匿名認証機能
- [ ] ログイン・ログアウト機能
- [ ] 認証状態管理

### 2.2 ルートアカウント管理
- [ ] UUID v4によるルートアカウント自動生成
- [ ] 基本情報入力フォーム実装
  - [ ] 居住地域（地球3分割）選択
  - [ ] 母語（複数選択可）選択
  - [ ] サイト使用言語選択
  - [ ] 生誕世代選択
- [ ] RLS設定による権限制御実装
- [ ] ルートアカウント編集機能
- [ ] アカウントリセット機能

### 2.3 認証なし機能 (優先度: 🟡 中)
- [ ] ダミープロフィール閲覧機能
- [ ] ダミーのユーザープロフィール作成
- [ ] インタビューデータ利用機能
- [ ] 認証後データ移行機能

---

## 3. 👥 ユーザープロフィール (優先度: 🔴 高)

### 3.1 プロフィール基本機能
- [ ] ユーザープロフィール新規作成
- [ ] プロフィール編集画面
- [ ] 複数プロフィール作成機能（千の仮面）
- [ ] プロフィール一覧・詳細閲覧
- [ ] プロフィール公開範囲設定

### 3.2 プロフィール詳細機能
- [ ] SNSアカウント・連絡先登録
- [ ] 自己作品登録・アピール機能
- [ ] 好きな作品登録（今・人生・未来）
- [ ] プロフィール目的設定（仕事・趣味・婚活等）

### 3.3 プロフィール種別対応
- [ ] 広告目的プロフィール
- [ ] 友活目的プロフィール
- [ ] 仕事目的プロフィール
- [ ] 婚活目的プロフィール（有料、個人証明必須）
- [ ] 政治活動プロフィール

### 3.4 プロフィール詳細機能
- [ ] ユーザープロフィール目的設定機能
- [ ] SNSアカウント登録・表示機能
- [ ] 連絡先登録・表示機能
- [ ] 作品登録・管理機能
- [ ] マンダラチャート作成・管理機能
- [ ] リスト選択機能

---

## 4. 📚 登録・データ管理 (優先度: 🔴 高)

### 4.1 作品登録システム
- [ ] 作品登録フォーム（タイトル・カテゴリ・タグ・URL）
- [ ] 公式作品登録システム（管理者）
- [ ] ユーザー作品登録・承認システム
- [ ] 作品検索・絞り込み機能
- [ ] 作品評価システム（ティア1,2,3）

### 4.2 価値観システム
- [ ] 価値観お題・選択肢登録システム
- [ ] 価値観選択機能（基本お題）
- [ ] 価値観カテゴリ管理
- [ ] 価値観履歴記録
- [ ] 価値観マッチング評価

### 4.3 リスト・チェーン機能
- [ ] リスト作成・管理機能
- [ ] 公式リスト管理
- [ ] チェーン作成・表示機能
- [ ] ファクトチェーン実装

---

## 5. 🤝 マッチング・コミュニティ (優先度: 🔴 高)

### 5.1 マッチングシステム
- [ ] 自動マッチングアルゴリズム（Tier1～3共通作品数）
- [ ] 手動マッチング機能
- [ ] マッチング結果一覧表示
- [ ] ウォッチ・フォローボタン実装

### 5.2 グループ管理
- [ ] グループ自動作成（プロフィール作成時）
- [ ] グループメンバー管理
- [ ] リーダー・マネージャー権限システム
- [ ] グループ内コミュニケーション機能

### 5.3 アライアンス機能
- [ ] アライアンス作成・管理
- [ ] グループ連携機能
- [ ] 階層構造表示
- [ ] アライアンスリーダー選出

---

## 6. ⭐ 評価・スキルシステム (優先度: 🟡 中)

### 6.1 評価機能
- [ ] ティア評価システム（Tier1,2,3）
- [ ] 絶対相対評価実装
- [ ] 作品評価履歴記録
- [ ] ユーザー間相互評価

### 6.2 スキル管理
- [ ] スキル登録・レベル管理
- [ ] スキル評価システム
- [ ] 「一緒に仕事をしたい度」表示機能

### 6.3 マンダラチャート (優先度: 🟢 低)
- [ ] マンダラチャート作成・表示
- [ ] 複数目標設定機能
- [ ] Markdown形式エクスポート

---

## 7. 💰 ポイント・ペナルティシステム (優先度: 🔴 高)

### 7.1 ポイント管理
- [ ] ポイント消費・獲得システム
- [ ] ベーシックインカムポイント
- [ ] ポイント履歴管理
- [ ] 有料会員特典実装

### 7.2 ペナルティ・モデレーション
- [ ] 警告・ペナルティシステム
- [ ] BAN・ミュート機能
- [ ] 通報・審査システム
- [ ] 信頼度計算アルゴリズム

### 7.3 ペナルティ詳細機能
- [ ] ペナルティ履歴管理機能
- [ ] 警告・ペナルティ通知機能

### 7.4 通知機能
- [ ] 通知作成機能（内容、リンクURL、対象ユーザー）
- [ ] 通知既読状態管理機能
- [ ] 通知履歴表示機能

### 7.5 ペナルティ履歴管理
- [ ] ペナルティ履歴表示機能
- [ ] 警告通知作成機能
- [ ] ペナルティ適用管理機能（管理者専用）

---

## 8. 🎨 UI・ナビゲーション (優先度: 🔴 高)

### 8.1 基本UI構築
- [ ] 上部ナビゲーション実装
- [ ] 左サイドメニュー構築
- [ ] レスポンシブデザイン対応
- [ ] ダークモード実装

### 8.2 主要画面実装
- [ ] ホーム画面
- [ ] 登録画面各種
- [ ] マッチング画面
- [ ] 設定画面
- [ ] 管理者ダッシュボード

### 8.3 チェーン機能
- [ ] チェーン作成・表示機能
- [ ] チェーンノード管理機能

### 8.4 チェーンノード管理
- [ ] チェーンノード追加機能
- [ ] チェーンノード削除機能
- [ ] チェーンノード編集機能

---

## 9. 🌐 国際化・アクセシビリティ (優先度: 🟡 中)

### 9.1 多言語対応
- [ ] i18n基盤実装（日本語・英語）
- [ ] 言語切替機能
- [ ] 多言語コンテンツ管理
- [ ] 地域別設定対応

### 9.2 アクセシビリティ
- [ ] WCAG準拠対応
- [ ] キーボード操作対応
- [ ] スクリーンリーダー対応
- [ ] 適切なコントラスト設定

---

## 10. 🧪 テスト・品質保証 (優先度: 🔴 高)

### 10.1 テスト環境構築
- [ ] 単体テスト環境（Vitest, React Testing Library）
- [ ] E2Eテスト（Playwright）
- [ ] GitHub Actions自動実行
- [ ] テストカバレッジ設定

### 10.2 パフォーマンス・監視
- [ ] パフォーマンス監視ツール導入
- [ ] エラー監視・ログ収集
- [ ] 負荷テスト実施
- [ ] セキュリティテスト

---

## 11. 🚀 デプロイ・運用 (優先度: 🔴 高)

### 11.1 デプロイ環境
- [ ] Vercel環境構築
- [ ] 環境変数管理
- [ ] CI/CDパイプライン構築
- [ ] プレビュー環境設定

### 11.2 運用・保守
- [ ] 定期バックアップ設定
- [ ] 監視アラート設定
- [ ] ドキュメント整備
- [ ] ユーザーサポート体制

---

## 12. 🔧 高度な機能・管理 (優先度: 🟡 中)

### 12.1 検索・発見機能
- [ ] 全文検索機能
- [ ] 高度な絞り込み検索
- [ ] レコメンド機能
- [ ] 検索履歴機能

### 12.2 通知・分析システム
- [ ] リアルタイム通知システム
- [ ] 分析・統計機能
- [ ] ユーザー行動分析
- [ ] データ分析ダッシュボード

### 12.3 コンテンツモデレーション
- [ ] 自動コンテンツフィルタリング
- [ ] 手動審査システム
- [ ] AI活用モデレーション
- [ ] 違反報告システム

---

## 13. 🌟 VNS核概念実装 (優先度: 🔴 高)

### 13.1 基本宣言システム
- [ ] オアシス宣言表示・宣誓機能
- [ ] 人間宣言表示・理解促進機能
- [ ] 宣言遵守状況の管理機能

### 13.2 千の仮面システム
- [ ] 複数ペルソナ管理の完全実装
- [ ] ペルソナ切り替えUI実装
- [ ] ペルソナ間データ分離機能

### 13.3 シュレディンガー猫主義
- [ ] 他者視点プロフィール作成機能
- [ ] 複数視点統合表示機能
- [ ] 視点別権限管理システム

---

## 14. 🤖 AI自動制御システム (優先度: 🟡 中)

### 14.1 ボトムアップ自動調整
- [ ] 価値観対立検出アルゴリズム
- [ ] グループ自動分離・結合機能
- [ ] ヘイト発言グループ自動切り分け

### 14.2 AI分析・判定
- [ ] コンテンツ自動分析システム
- [ ] 信頼度自動算出機能
- [ ] 問題行動予測システム

---

## 15. ⚖️ 詳細ペナルティシステム (優先度: 🔴 高)

### 15.1 段階的警告システム
- [ ] イエローカード機能実装
- [ ] レッドカード機能実装
- [ ] 累積警告管理システム

### 15.2 高度制限機能
- [ ] ミュート機能（発言非表示）
- [ ] ブロック機能（相互非表示）
- [ ] ハイド機能（存在消去）
- [ ] シャドウロック機能
- [ ] アナザーディメンション機能

### 15.3 動的制御システム
- [ ] アクセス許可ライン毎日自動調整
- [ ] 継続日数ベース制御機能
- [ ] 新規ユーザー段階的解放機能

---

## 16. 👤 特殊プロフィール機能 (優先度: 🟡 中)

### 16.1 外部作成プロフィール
- [ ] インタビュー型プロフィール機能
- [ ] 他人評価型プロフィール機能
- [ ] グループ投票型プロフィール機能

### 16.2 特殊目的プロフィール
- [ ] 議員用プロフィール（政治活動）
- [ ] 隠しプロフィール（妊活・悩み相談等）
- [ ] 企業・法人プロフィール機能

### 16.3 プロフィール連携
- [ ] プロフィールチェーン機能
- [ ] 相互チェーン機能
- [ ] プロフィール切り離し機能

---

## 17. 📊 高度評価システム (優先度: 🔴 高)

### 17.1 絶対相対評価
- [ ] 基準作品設定機能
- [ ] 相対評価計算アルゴリズム
- [ ] 評価履歴・変更追跡機能

### 17.2 相互評価システム
- [ ] 同時相互評価機能
- [ ] 評価公開制御機能
- [ ] 信頼度ベース評価権限制御

### 17.3 高度スキル評価
- [ ] 「一緒に仕事をしたい度」算出機能
- [ ] スキル成長追跡システム
- [ ] 外部評価統合機能

---

## 18. 🌐 地域・言語詳細対応 (優先度: 🟡 中)

### 18.1 地球3分割システム
- [ ] タイムゾーンベース地域分割表示
- [ ] 地域別ユーザー分布可視化
- [ ] 地域間連携機能

### 18.2 多言語詳細対応
- [ ] 母語複数選択・管理システム
- [ ] 言語能力レベル設定機能
- [ ] 日時・通貨・数値の地域対応

### 18.3 文化対応
- [ ] 地域別コンテンツフィルタリング
- [ ] 文化的配慮事項表示機能

---

## 19. 🔗 URL・ルーティング高度化 (優先度: 🔴 高)

### 19.1 プログレッシブエンハンスメント
- [ ] 段階的機能解放ルーティング
- [ ] ユーザーレベル別ナビゲーション
- [ ] 動的メニュー生成システム

### 19.2 動的セグメント対応
- [ ] ユーザープロフィールURL動的生成
- [ ] 予約語衝突回避システム
- [ ] SEO対応URL構造

---

## 20. 🎮 ゲーミフィケーション (優先度: 🟢 低)

### 20.1 レベル・称号システム
- [ ] ユーザーレベル管理機能
- [ ] 称号獲得・表示システム
- [ ] 成長可視化機能

### 20.2 チャレンジ・実績
- [ ] 日次・週次チャレンジ機能
- [ ] 実績解除システム
- [ ] 進捗追跡ダッシュボード

---

## 21. 📱 モバイル最適化 (優先度: 🟡 中)

### 21.1 モバイルUI
- [ ] スマートフォン専用UI実装
- [ ] タッチジェスチャー対応
- [ ] モバイル用簡易操作モード

### 21.2 PWA対応
- [ ] プログレッシブWebアプリ機能
- [ ] オフライン機能実装
- [ ] プッシュ通知機能

---

## 📊 全体進捗サマリー

### 優先度別タスク数
- 🔴 **高優先度**: 必須機能（MVPに含む）
- 🟡 **中優先度**: 重要機能（フェーズ2で実装）
- 🟢 **低優先度**: 拡張機能（フェーズ3で実装）

### 開発フェーズ計画
- **フェーズ1（MVP）**: 高優先度タスクの実装
- **フェーズ2（機能拡張）**: 中優先度タスクの実装
- **フェーズ3（完全版）**: 低優先度タスクの実装

---

## 📝 注意事項

- 各タスクの工数は実装者のスキルレベルや要件の詳細化により大きく変動します
- 依存関係を考慮してタスクを進めてください
- 定期的にタスクリストを見直し、優先度を調整してください
- テストとドキュメント作成を並行して進めてください

---

**最終更新**: 2025年1月XX日
**レビュー**: 定期的に内容を見直し、プロジェクトの進捗に応じて更新
