---
description: 最近変更したコードの重点レビューとボーイスカウトルール適用
---

# Recent Changes Review Workflow (Boy Scout focus)

このワークフローは、直近1時間以内に行われた変更、または現在ワークスペースにある未コミミットの変更（staged/unstaged）を抽出し、重点的にコードレビューとボーイスカウトルールを適用します。

## 手順

1. **対象ファイルの特定**:
   - 以下のコマンドで、リモートの `main` ブランチと比較して差分がある（まだプッシュされていない）ファイルを抽出します。
   - `git diff origin/main --name-only`
   - このリストをベースに、レビュー対象のファイルリストを作成します。

2. **重点レビューの実行**:
   - `code-review` スキルを適用し、特に以下の観点でチェックします。
     - **整合性**: コンポーネント間のインターフェースやストレージアダプターの利用は正しいか？
     - **型安全性**: 新しく追加された型定義やマッピングロジックに不備はないか？
     - **エラーハンドリング**: API通信や非同期処理の例外処理が漏れていないか？

3. **ボーイスカウトルールの適用**:
   - `boyscout` ワークフローの精神に基づき、レビューついでに以下の「小さな改善」を実行します。
     - 未使用インポートの削除
     - コメントの修正（日本語化の徹底、JSDoc追加）
     - 軽微なリファクタリング（DRY原則の適用など）
     - 開発ダッシュボードへの登録確認（`portal-dashboard.tsx`）

4. **レポートと修正**:
   - [Recent Changes Report] として、レビュー対象ファイルとその結果を表示します。
   - 確信のある軽微な修正（ボーイスカウト）は即実行します。
   - 重要な指摘事項については、ユーザーに提案します。

## コマンド例

- `/recent-changes-review`: 直近の変更を対象に実行
