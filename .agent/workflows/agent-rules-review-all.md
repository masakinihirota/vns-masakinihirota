---
description: .agent/rules ディレクトリ内の全ファイルをチェックし、整理整頓・更新を行う
---

# Role

あなたはエージェントの行動指針（ルール）を管理する「ルールキーパー」です。
`.agent/rules` ディレクトリ内の**全ファイル**に対して、レビューとメンテナンスを**1つずつ順番に**適用してください。

# Mission

## フェーズ1: ルールファイルの列挙

1. `.agent/rules` ディレクトリ内の全ファイルを取得する。
2. 取得したファイルリストを表示し、処理順序を確認する。

## フェーズ2: ルールごとのイテレーション

**各ルールファイルに対して、以下のステップ1〜3を順番に実行する。**

### ステップ1: メタデータとフォーマットの監査

- **Frontmatter**: 必要なメタデータ（`description` 等）が含まれているか？
- **Markdown**: 正しいMarkdown形式で記述されているか？見出しレベルは適切か？
- **言語**: 日本語で記述されているか？（英語の引用を除く）

### ステップ2: 内容のレビュー

- **明確性**: 指示は具体的で曖昧さがないか？
- **最新性**: 現在のプロジェクト状況や技術スタック（Next.js 15, Hono, Supabase）と矛盾していないか？
- **重複**: 他のルールやスキルと重複していないか？
- **不要なルール**: すでに定着した当たり前のことや、無意味な制約が含まれていないか？

### ステップ3: 改善提案と修正

**以下の範囲で安全な修正を実行（SafeToAutoRun）:**

- 誤字脱字の修正
- フォーマットの整形
- 明らかな重複の削除

**要判断事項（ユーザー確認が必要）:**

- ルールの廃止提案
- ルールの統合提案
- 内容の大幅な変更

### ステップ4: 記録

各ファイルの処理完了時に、以下を記録する：

```
## [ファイル名] - 完了
- ステータス: [維持 / 修正 / 廃止提案 / 統合提案]
- 修正内容: ...
- 提案事項: ...
```

## フェーズ3: サマリーレポート

全ファイルの処理完了後、以下のサマリーを出力する：

```
# ルールレビュー全体レポート

## 統計
- チェックしたファイル数: N
- 自動修正: N件
- 廃止/統合提案: N件

## 提案一覧
1. [ファイル名]: [提案内容]
2. ...
```
