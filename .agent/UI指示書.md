ご提示いただいたフローは、現代的なWeb開発（特に生成AIを活用したアジャイル・TDD手法）において非常に合理的で効率的な流れです。

このフローをAI（Cursor, Windsurf, ChatGPT, Claude等）に的確に実行させるための\*\*「AIへの開発指示書（プロンプトセット）」\*\*を作成しました。

この指示書は、フェーズごとにAIにコピペして渡せるように構成しています。

---

# AI開発指示書：Webサービス UI/UX構築フロー

## 前提条件・共通ルール（最初にAIに読み込ませる）

以下のルールを開発の全工程において遵守してください。

1.  **TDD（テスト駆動開発）の徹底**: 実装の前に必ずテストケースを作成すること。
2.  **複雑なUIの分解**: ドラッグアンドドロップ、ソート、フィルタリングなどの複合的なUI操作は、一度に実装せず、機能単位で最小化して実装・テストを行うこと。
3.  **Supabase利用**: データベースはSupabaseとし、宣言型スキーマ管理を行う。
4.  **ダミーデータの活用**: バックエンド接続前はダミーデータで完全に動作する状態を作ること。

---

## フェーズ 1: 要件定義・設計・リスト化

**目的**: 作るものを明確にし、抜け漏れを防ぐ。

### 【プロンプト 1】要件と項目の洗い出し

```markdown
あなたは熟練のPM兼UI/UXデザイナーです。以下のWebサービスの開発を行います。

# 開発したいサービス概要

[ここに作りたいサービスの概要を記述]

# 依頼事項

1. **要件定義書の作成**: ユーザーの課題、解決策、コア機能、ターゲット層を定義してください。
2. **画面設計書の作成**: 必要なページ遷移と画面構成を定義してください。
3. **UI/UX必要項目リスト**: 各画面に必要なボタン、入力フォーム、表示要素を詳細にリスト化してください。

出力はMarkdown形式で行ってください。
```

---

## フェーズ 2: デザイン・タスク化・静的実装

**目的**: 見た目を確定させ、ロジックを入れる前の「ガワ」を完成させる。

### 【プロンプト 2】デザイン生成とTDDタスクリスト作成

```markdown
# 依頼事項

1. **UI/UXデザイン**: 定義された項目を元に、モダンで使いやすいUIデザインコード（React/Tailwind CSS等）を生成してください。（※v0を使用する場合はここでv0のリンクを貼るなど）
2. **TDDタスクリスト作成**: 実装工程を細分化し、テスト駆動開発用のタスクリストを作成してください。
   - 特に「ドラッグアンドドロップ」や「ソート」などの複雑な機能は、1タスク1機能まで細かく分解してください。
```

### 【プロンプト 3】静的UIの実装（ダミーデータTDD）

```markdown
# 依頼事項

1. **静的UIの実装**: 作成したタスクリストに基づき、静的なUIコンポーネントを実装してください。
2. **ダミーデータTDD**: サーバー通信は行わず、JSON形式のダミーデータを使用して、表示やインタラクションが正しく動作することをテストコード（Jest/Vitest/Playwright等）で証明してください。
3. **AIレビュー**: 実装されたUIについて、「人間の感覚で使いやすいか」という観点でレビューし、改善点を指摘・修正してください。
```

---

## フェーズ 3: ロジック・DB連携・フェッチ

**目的**: 静的なサイトに命を吹き込み、データを永続化する。

### 【プロンプト 4】ロジック開発とSupabase連携

```markdown
# 依頼事項

静的UIに対し、実際のロジックとバックエンド接続を実装します。

1. **ロジック開発(TDD)**: 状態管理や計算処理などのビジネスロジックをTDDで実装してください。
2. **Supabaseスキーマ作成**: 必要なテーブル構造を宣言型スキーマ（SQL）で作成してください。
3. **DB接続**: クライアントからSupabaseへの接続設定を行ってください。
   - **重要**: 開発中の動作確認のため、既存のダミーデータ変数は削除せず、スイッチ一つで「ダミー/本番」を切り替えられる設計にしてください。
```

### 【プロンプト 5】データフェッチ実装

```markdown
# 依頼事項

1. **データフェッチ(TDD)**: Supabaseからのデータ取得(Fetch)、作成(Create)、更新(Update)、削除(Delete)処理を実装してください。
2. ローディング状態、エラーハンドリングのUIも実装に含めてください。
```

---

## フェーズ 4: 最終レビュー・結合テスト

**目的**: 当初の目的通りか確認し、品質を保証する。

### 【プロンプト 6】仕様準拠チェックと結合テスト

```markdown
# 依頼事項

1. **仕様準拠レビュー**: 最初に作成した「要件定義書」および「UI/UX必要項目リスト」と、現状のコードを比較し、満たされていない要件がないか厳密にチェックしてください。
2. **結合テスト**: フロントエンドとバックエンドを通したE2Eテストを実施し、主要なユースケースが正常に動作することを確認してください。
```
