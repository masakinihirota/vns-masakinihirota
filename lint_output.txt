
> vns-masakinihirota@0.30.1 lint U:\2026src\vns-masakinihirota.worktrees\anti
> oxlint --tsconfig ./tsconfig.json --type-aware --type-check ./src


  ! eslint(no-unused-vars): Identifier 'vi' is imported but never used.
   ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:1:44]
 1 | import { describe, it, expect, beforeEach, vi } from "vitest";
   :                                            ^|
   :                                             `-- 'vi' is imported here
 2 | import { EventSystem } from "../events/event-system";
   `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'EntityRenderer' is imported but never used.
   ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:6:10]
 5 | import { KeywordSystem } from "../keywords/keyword-system";
 6 | import { EntityRenderer } from "../map/entity-renderer";
   :          ^^^^^^^|^^^^^^
   :                 `-- 'EntityRenderer' is imported here
 7 | import { LEVEL01_MAP_CONFIG } from "../map/map-config";
   `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'MapRenderer' is imported but never used.
   ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:8:10]
 7 | import { LEVEL01_MAP_CONFIG } from "../map/map-config";
 8 | import { MapRenderer } from "../map/map-renderer";
   :          ^^^^^|^^^^^
   :               `-- 'MapRenderer' is imported here
 9 | import {
   `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Variable 'mapUnlocked' is assigned a value but never used. Unused variables should start with a '_'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:130:11]
 129 |     it("should integrate with state manager on event completion", async () => {
 130 |       let mapUnlocked = false;
     :           ^^^^^|^^^^^
     :                `-- 'mapUnlocked' is declared here
 131 |       stateManager.subscribe((state) => {
 132 |         if (state.hasMap) {
 133 |           mapUnlocked = true;
     :           ^^^^^|^^^^^
     :                `-- it was last assigned here
 134 |         }
     `----
  help: Did you mean to use this variable?

  x eslint(no-console): Unexpected console statement.
     ,-[src/components/layout/global-header/GlobalHeader.tsx:398:9]
 397 |         // 繝√Η繝ｼ繝医Μ繧｢繝ｫ繝｢繧ｸ繝･繝ｼ繝ｫ縺悟茜逕ｨ縺ｧ縺阪↑縺・ｴ蜷医・繧ｹ繧ｭ繝・・
 398 |         console.debug("Tutorial state not available", error);
     :         ^^^^^^^^^^^^^
 399 |       }
     `----
  help: Supported methods are: info, warn, error.

  ! eslint(no-unused-vars): Identifier 'BookOpen' is imported but never used.
   ,-[src/components/tutorial/tutorial-story.tsx:3:10]
 2 | 
 3 | import { BookOpen, FastForward, Pause, Play, Timer, Zap } from "lucide-react";
   :          ^^^^|^^^
   :              `-- 'BookOpen' is imported here
 4 | import dynamic from "next/dynamic";
   `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'TutorialErrorBoundary' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:14:10]
 13 | import { TrialBackButtonContent } from "../layout/trial-onboarding-back-button/TrialOnboardingBackButton";
 14 | import { TutorialErrorBoundary } from "./error-boundary";
    :          ^^^^^^^^^^|^^^^^^^^^^
    :                    `-- 'TutorialErrorBoundary' is imported here
 15 | import { EventSystem } from "./events/event-system";
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'EventSystem' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:15:10]
 14 | import { TutorialErrorBoundary } from "./error-boundary";
 15 | import { EventSystem } from "./events/event-system";
    :          ^^^^^|^^^^^
    :               `-- 'EventSystem' is imported here
 16 | import { LEVEL01_EVENTS } from "./events/level01-events";
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'LEVEL01_EVENTS' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:16:10]
 15 | import { EventSystem } from "./events/event-system";
 16 | import { LEVEL01_EVENTS } from "./events/level01-events";
    :          ^^^^^^^|^^^^^^
    :                 `-- 'LEVEL01_EVENTS' is imported here
 17 | import { KeywordModal } from "./keyword-modal";
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'KeywordSystem' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:18:10]
 17 | import { KeywordModal } from "./keyword-modal";
 18 | import { KeywordSystem } from "./keywords/keyword-system";
    :          ^^^^^^|^^^^^^
    :                `-- 'KeywordSystem' is imported here
 19 | import { QueenDialogue } from "./queen-dialogue";
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'useTutorialState' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:22:3]
 21 |   getGameStateManager,
 22 |   useTutorialState,
    :   ^^^^^^^^|^^^^^^^
    :           `-- 'useTutorialState' is imported here
 23 |   useTutorialPhase,
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'useTutorialPhase' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:23:3]
 22 |   useTutorialState,
 23 |   useTutorialPhase,
    :   ^^^^^^^^|^^^^^^^
    :           `-- 'useTutorialPhase' is imported here
 24 |   useGameControl,
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'useGameControl' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:24:3]
 23 |   useTutorialPhase,
 24 |   useGameControl,
    :   ^^^^^^^|^^^^^^
    :          `-- 'useGameControl' is imported here
 25 |   useDialogControl,
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'useDialogControl' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:25:3]
 24 |   useGameControl,
 25 |   useDialogControl,
    :   ^^^^^^^^|^^^^^^^
    :           `-- 'useDialogControl' is imported here
 26 |   useKeywordManagement,
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'useKeywordManagement' is imported but never used.
    ,-[src/components/tutorial/tutorial-story.tsx:26:3]
 25 |   useDialogControl,
 26 |   useKeywordManagement,
    :   ^^^^^^^^^^|^^^^^^^^^
    :             `-- 'useKeywordManagement' is imported here
 27 | } from "./state";
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Parameter 'i' is declared but never used. Unused parameters should start with a '_'.
     ,-[src/components/tutorial/tutorial-story.tsx:223:53]
 222 |     ) => {
 223 |       lines.slice(0, untilIndex + 1).forEach((text, i) => {
     :                                                     |
     :                                                     `-- 'i' is declared here
 224 |         history.push({
     `----
  help: Consider removing this parameter.

  ! eslint(no-unused-vars): Variable 'japaneseLevelLabels' is declared but never used. Unused variables should start with a '_'.
    ,-[src/components/onboarding-pc/steps/step4-language-pc.tsx:72:9]
 71 | 
 72 |   const japaneseLevelLabels = JAPANESE_LEVELS.map((level) => level.label);
    :         ^^^^^^^^^|^^^^^^^^^
    :                  `-- 'japaneseLevelLabels' is declared here
 73 | 
    `----
  help: Consider removing this declaration.

  x eslint(no-console): Unexpected console statement.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:96:9]
 95 |       eventSystemRef.current.onAction("give-item", (action) => {
 96 |         console.log("Item given:", action.itemId);
    :         ^^^^^^^^^^^
 97 |       });
    `----
  help: Supported methods are: info, warn, error.

  ! eslint(no-unused-vars): Identifier 'BookOpen' is imported but never used.
   ,-[src/components/tutorial/tutorial-story-v2.tsx:3:10]
 2 | 
 3 | import { BookOpen, FastForward, Pause, Play, Timer, Zap } from "lucide-react";
   :          ^^^^|^^^
   :              `-- 'BookOpen' is imported here
 4 | import dynamic from "next/dynamic";
   `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'LEVEL01_EVENTS' is imported but never used.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:16:10]
 15 | import { EventSystem } from "./events/event-system";
 16 | import { LEVEL01_EVENTS } from "./events/level01-events";
    :          ^^^^^^^|^^^^^^
    :                 `-- 'LEVEL01_EVENTS' is imported here
 17 | import { KeywordModal } from "./keyword-modal";
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Identifier 'getGameStateManager' is imported but never used.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:21:3]
 20 | import {
 21 |   getGameStateManager,
    :   ^^^^^^^^^|^^^^^^^^^
    :            `-- 'getGameStateManager' is imported here
 22 |   useTutorialState,
    `----
  help: Consider removing this import.

  ! eslint(no-unused-vars): Variable 'gameState' is declared but never used. Unused variables should start with a '_'.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:65:9]
 64 |   // 譁ｰ縺励＞繧ｷ繧ｹ繝・Β縺九ｉ迥ｶ諷九ｒ蜿門ｾ・ 65 |   const gameState = useTutorialState();
    :         ^^^^|^^^^
    :             `-- 'gameState' is declared here
 66 |   const { phase, lineIndex } = useTutorialPhase();
    `----
  help: Consider removing this declaration.

  ! eslint(no-unused-vars): Variable 'regressLine' is declared but never used. Unused variables should start with a '_'.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:70:5]
 69 |     advanceLine: stateAdvanceLine,
 70 |     regressLine,
    :     ^^^^^|^^^^^
    :          `-- 'regressLine' is declared here
 71 |   } = useGameControl();
    `----
  help: Consider removing this declaration.

  ! eslint(no-unused-vars): Variable 'showDialog' is declared but never used. Unused variables should start with a '_'.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:72:11]
 71 |   } = useGameControl();
 72 |   const { showDialog, closeDialog } = useDialogControl();
    :           ^^^^^|^^^^
    :                `-- 'showDialog' is declared here
 73 |   const {
    `----
  help: Consider removing this declaration.

  ! eslint(no-unused-vars): Variable 'closeDialog' is declared but never used. Unused variables should start with a '_'.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:72:23]
 71 |   } = useGameControl();
 72 |   const { showDialog, closeDialog } = useDialogControl();
    :                       ^^^^^|^^^^^
    :                            `-- 'closeDialog' is declared here
 73 |   const {
    `----
  help: Consider removing this declaration.

  ! eslint(no-unused-vars): Parameter 'i' is declared but never used. Unused parameters should start with a '_'.
     ,-[src/components/tutorial/tutorial-story-v2.tsx:156:53]
 155 |     ) => {
 156 |       lines.slice(0, untilIndex + 1).forEach((text, i) => {
     :                                                     |
     :                                                     `-- 'i' is declared here
 157 |         history.push({
     `----
  help: Consider removing this parameter.

  ! eslint(no-unused-vars): Variable 'i' is declared but never used. Unused variables should start with a '_'.
    ,-[src/components/tutorial/queen-dialogue.tsx:49:9]
 48 |     const delay = speed === "fast" ? 10 : 30;
 49 |     let i = 0;
    :         |
    :         `-- 'i' is declared here
 50 |     const interval = setInterval(() => {
    `----
  help: Consider removing this declaration.

  x eslint(no-console): Unexpected console statement.
    ,-[src/components/tutorial/persistence/tutorial-persistence.ts:71:9]
 70 |         // 繝・・繧ｿ縺悟ｭ伜惠縺励↑縺・ｴ蜷医・豁｣蟶ｸ
 71 |         console.debug("No tutorial progress found for user:", userId);
    :         ^^^^^^^^^^^^^
 72 |         return null;
    `----
  help: Supported methods are: info, warn, error.

  ! eslint(no-unused-vars): Parameter 'event' is declared but never used. Unused parameters should start with a '_'.
     ,-[src/components/tutorial/map/entity-renderer.ts:194:5]
 193 |     y: number,
 194 |     event: TutorialEvent
     :     ^^|^^
     :       `-- 'event' is declared here
 195 |   ): EntityVisuals {
     `----
  help: Consider removing this parameter.

  ! eslint(no-unused-vars): Variable 'eventSystem' is declared but never used. Unused variables should start with a '_'.
     ,-[src/components/tutorial/__tests__/tutorial-system.test.ts:220:13]
 219 |       const stateManager = new GameStateManager();
 220 |       const eventSystem = new EventSystem();
     :             ^^^^^|^^^^^
     :                  `-- 'eventSystem' is declared here
 221 |       const keywordSystem = new KeywordSystem();
     `----
  help: Consider removing this declaration.

  x typescript(TS2353): Object literal may only specify known properties, and 'lineIndex' does not exist in type 'GameContext'.
    ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:78:9]
 77 |         currentPhase: "quest",
 78 |         lineIndex: 0,
    :         ^^^^^^^^^
 79 |       };
    `----

  x typescript(TS2353): Object literal may only specify known properties, and 'lineIndex' does not exist in type 'GameContext'.
    ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:91:9]
 90 |         currentPhase: "quest",
 91 |         lineIndex: 0,
    :         ^^^^^^^^^
 92 |       };
    `----

  x typescript(TS2339): Property 'reason' does not exist on type 'EventResult'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:101:22]
 100 |       expect(result2.executed).toBe(false);
 101 |       expect(result2.reason).toBe("already_executed");
     :                      ^^^^^^
 102 |     });
     `----

  x typescript(TS2353): Object literal may only specify known properties, and 'lineIndex' does not exist in type 'GameContext'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:120:9]
 119 |         currentPhase: "quest",
 120 |         lineIndex: 0,
     :         ^^^^^^^^^
 121 |       };
     `----

  x typescript(TS2353): Object literal may only specify known properties, and 'lineIndex' does not exist in type 'GameContext'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:142:9]
 141 |         currentPhase: "quest",
 142 |         lineIndex: 0,
     :         ^^^^^^^^^
 143 |       };
     `----

  x typescript(TS2339): Property 'learnedIds' does not exist on type '{ unlockedKeywords: string[]; learnedKeywords: string[]; }'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:183:51]
 182 |         keywordSystem.learn("ghost");
 183 |         const learned = keywordSystem.serialize().learnedIds;
     :                                                   ^^^^^^^^^^
 184 |         isLearned = learned.includes("ghost");
     `----

  x typescript(TS2353): Object literal may only specify known properties, and 'lineIndex' does not exist in type 'GameContext'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:274:9]
 273 |         currentPhase: "quest",
 274 |         lineIndex: 0,
     :         ^^^^^^^^^
 275 |       };
     `----

  x typescript(TS2345): Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:318:25]
 317 |       eventSystem.onAction("give-item", (action) => {
 318 |         itemsGiven.push(action.itemId);
     :                         ^^^^^^^^^^^^^
 319 |       });
     `----

  x typescript(TS2353): Object literal may only specify known properties, and 'lineIndex' does not exist in type 'GameContext'.
     ,-[src/components/tutorial/__tests__/tutorial-integration.test.ts:340:9]
 339 |         currentPhase: "quest",
 340 |         lineIndex: 0,
     :         ^^^^^^^^^
 341 |       };
     `----

  x typescript(TS2339): Property 'goToPhase' does not exist on type '{ setPaused: (isPaused: boolean) => void; setSpeed: (speed: "fast" | "instant" | "normal") => void; setHasMap: (hasMap: boolean) => void; updatePlayerPosition: (x: number, y: number) => void; discoverEntity: (entityId: string) => void; logError: (code: string, message: string, context?: Record<...> | undefined) => v...'.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:68:5]
 67 |   const {
 68 |     goToPhase: stateGoToPhase,
    :     ^^^^^^^^^
 69 |     advanceLine: stateAdvanceLine,
    `----

  x typescript(TS2339): Property 'advanceLine' does not exist on type '{ setPaused: (isPaused: boolean) => void; setSpeed: (speed: "fast" | "instant" | "normal") => void; setHasMap: (hasMap: boolean) => void; updatePlayerPosition: (x: number, y: number) => void; discoverEntity: (entityId: string) => void; logError: (code: string, message: string, context?: Record<...> | undefined) => v...'.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:69:5]
 68 |     goToPhase: stateGoToPhase,
 69 |     advanceLine: stateAdvanceLine,
    :     ^^^^^^^^^^^
 70 |     regressLine,
    `----

  x typescript(TS2339): Property 'regressLine' does not exist on type '{ setPaused: (isPaused: boolean) => void; setSpeed: (speed: "fast" | "instant" | "normal") => void; setHasMap: (hasMap: boolean) => void; updatePlayerPosition: (x: number, y: number) => void; discoverEntity: (entityId: string) => void; logError: (code: string, message: string, context?: Record<...> | undefined) => v...'.
    ,-[src/components/tutorial/tutorial-story-v2.tsx:70:5]
 69 |     advanceLine: stateAdvanceLine,
 70 |     regressLine,
    :     ^^^^^^^^^^^
 71 |   } = useGameControl();
    `----

  x typescript(TS2345): Argument of type 'string' is not assignable to parameter of type 'TutorialPhase'.
     ,-[src/components/tutorial/tutorial-story-v2.tsx:109:45]
 108 | 
 109 |     keywordSystemRef.current.checkAndUnlock(phase as string, lineIndex);
     :                                             ^^^^^^^^^^^^^^^
 110 | 
     `----

Found 27 warnings and 16 errors.
Finished in 4.3s on 478 files using 12 threads.
窶右LIFECYCLE窶・Command failed with exit code 1.
